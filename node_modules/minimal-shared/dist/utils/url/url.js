import{isEqual as h}from"es-toolkit";function u(t){try{let r=new URL(t,window.location.origin);return Array.from(r.searchParams.keys()).length>0}catch{return!1}}function o(t){return t!=="/"&&t.endsWith("/")?t.slice(0,-1):t}function p(t,r,i={deep:!0}){let n=s=>{try{let{pathname:a,searchParams:e}=new URL(s.trim(),"http://dummy");return i.deep?{pathname:o(a),params:Object.fromEntries(e)}:{pathname:o(a)}}catch{return{pathname:""}}};return h(n(r),n(t))}function m(t){try{let r=new URL(t,window.location.origin);return o(r.pathname)}catch{return t}}function g(t){return/^https?:\/\//i.test(t)}function f(t,r){let i=r??"/";if(!t||typeof window>"u"||!window.location?.origin)return i;try{let n=new URL(t,window.location.origin),s=n.origin===window.location.origin,a=n.pathname.startsWith("/")&&!n.pathname.startsWith("//"),e=/^\/:+$/.test(n.pathname),c=n.pathname==="/"&&!n.search&&n.hash;return s&&a&&!e&&!c?`${n.pathname}${n.search}${n.hash}`:i}catch{return t.startsWith("/")&&!t.startsWith("//")?t:i}}export{u as hasParams,p as isEqualPath,g as isExternalLink,o as removeLastSlash,m as removeParams,f as safeReturnUrl};
