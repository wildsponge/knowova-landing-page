import{isEqual as h}from"es-toolkit";function u(t){try{let r=new URL(t,window.location.origin);return Array.from(r.searchParams.keys()).length>0}catch{return!1}}function o(t){return t!=="/"&&t.endsWith("/")?t.slice(0,-1):t}function p(t,r,i={deep:!0}){let n=e=>{try{let{pathname:a,searchParams:s}=new URL(e.trim(),"http://dummy");return i.deep?{pathname:o(a),params:Object.fromEntries(s)}:{pathname:o(a)}}catch{return{pathname:""}}};return h(n(r),n(t))}function m(t){try{let r=new URL(t,window.location.origin);return o(r.pathname)}catch{return t}}function f(t){return/^https?:\/\//i.test(t)}function g(t,r){let i=r??"/";if(!t||typeof window>"u"||!window.location?.origin)return i;try{let n=new URL(t,window.location.origin),e=n.origin===window.location.origin,a=n.pathname.startsWith("/")&&!n.pathname.startsWith("//"),s=/^\/:+$/.test(n.pathname),c=n.pathname==="/"&&!n.search&&n.hash;return e&&a&&!s&&!c?`${n.pathname}${n.search}${n.hash}`:i}catch{return t.startsWith("/")&&!t.startsWith("//")?t:i}}export{u as hasParams,p as isEqualPath,f as isExternalLink,o as removeLastSlash,m as removeParams,g as safeReturnUrl};
